"use strict";(self.webpackChunkreact_kabzda=self.webpackChunkreact_kabzda||[]).push([[944],{944:(s,t,e)=>{e.r(t),e.d(t,{default:()=>A});var r=e(43),o=e(3),i=e(923);const a="Profile_content__My4gE";var n=e(605),l=e(579);const u=s=>{const[t,e]=r.useState(!1),[o,i]=r.useState(s.status);(0,r.useEffect)((()=>{i(s.status||"")}),[s.status]);return(0,l.jsxs)("div",{children:[!t&&(0,l.jsx)("div",{children:(0,l.jsx)("span",{onDoubleClick:()=>{e(!0)},children:s.status||"-----------"})}),t&&(0,l.jsx)("div",{children:(0,l.jsx)("input",{onChange:s=>{i(s.currentTarget.value)},autoFocus:!0,onBlur:()=>{e(!1),s.updateStatus(o)},value:o})})]})},c=s=>{let{profile:t,status:e,updateUserStatus:r}=s;return t?(0,l.jsx)("div",{children:(0,l.jsxs)("div",{children:[(0,l.jsx)("img",{src:t.photos.large,alt:"ava"}),(0,l.jsx)(u,{status:e,updateStatus:r}),(0,l.jsx)("h2",{children:t.fullName}),(0,l.jsx)("h3",{children:t.aboutMe}),(0,l.jsxs)("ul",{children:[(0,l.jsx)("h3",{children:"Contacts"}),(0,l.jsxs)("li",{children:["Facebook - ",t.contacts.facebook]}),(0,l.jsxs)("li",{children:["Github - ",t.contacts.github]}),(0,l.jsxs)("li",{children:["Instagram - ",t.contacts.instagram]}),(0,l.jsxs)("li",{children:["MainLink - ",t.contacts.mainLink]}),(0,l.jsxs)("li",{children:["Twitter - ",t.contacts.twitter]}),(0,l.jsxs)("li",{children:["Website - ",t.contacts.website]}),(0,l.jsxs)("li",{children:["Youtube - ",t.contacts.youtube]})]}),(0,l.jsxs)("p",{children:["Looking for a job - ",t.lookingForAJob?"yes":"no"]}),(0,l.jsxs)("p",{children:["Job description - ",t.lookingForAJobDescription]})]})}):(0,l.jsx)(n.A,{})};var d=e(977);const p="Post_item__inop+",h=s=>(0,l.jsxs)("div",{className:p,children:[(0,l.jsx)("img",{src:"https://www.custode.com/wordpress/wp-content/uploads/2013/06/ArcheoLogo.png",alt:"ava"}),s.message,(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{children:"like"})," ",s.likeCount]})]}),x="MyPosts_postsBlock__yTfpd",j="MyPosts_posts__uVKPe";var m=e(892),g=e(899),b=e(768),f=e(545);const v=(0,f.d)(50),k=g.Ik().shape({myPost:g.Yj().required("Required").max(50,"Must be 50 characters or less")}),S=s=>(0,l.jsx)(m.l1,{validationSchema:k,initialValues:{myPost:""},onSubmit:(t,e)=>{let{resetForm:r}=e;s.onSubmit(t),r()},children:s=>{let{handleSubmit:t}=s;return(0,l.jsxs)(m.lV,{onSubmit:t,children:[(0,l.jsx)("div",{children:(0,l.jsx)(m.D0,{name:"myPost",placeholder:"Write new post",component:b.TM,validate:[f.m,v]})}),(0,l.jsx)("button",{type:"submit",children:"Login"})]})}}),P=(0,r.memo)((s=>{const t=[...s.posts].reverse().map((s=>(0,l.jsx)(h,{message:s.post,likeCount:s.likeCount},s.id)));return(0,l.jsxs)("div",{className:x,children:["My posts",(0,l.jsx)(S,{onSubmit:t=>{console.log(t,"formData"),s.addPost(t.myPost)}}),(0,l.jsx)("div",{className:j,children:t})]})})),U=(0,o.Ng)((s=>({posts:s.profilePage.posts})),{addPost:d.SD})(P),_=s=>(0,l.jsxs)("div",{className:a,children:[(0,l.jsx)(c,{profile:s.profile,status:s.status,updateUserStatus:s.updateUserStatus}),(0,l.jsx)(U,{})]});var y=e(214),w=e(863);class C extends r.Component{componentDidMount(){let s=this.props.router.params.userId;s||(s=this.props.authorizedUserId,s||this.props.history.push("/login")),this.props.getUserProfile(s),this.props.setUserStatus(s)}render(){return(0,l.jsx)(_,{...this.props,profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus})}}const A=(0,i.Zz)((0,o.Ng)((s=>({profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.userId,isAuth:s.auth.isAuth})),{setUserProfile:d.p,getUserProfile:d.VM,setUserStatus:d.if,updateUserStatus:d.pU}),w.H,y.A)(C)},863:(s,t,e)=>{e.d(t,{H:()=>l});var r=e(216),o=e(3),i=e(43),a=e(579);const n=s=>({isAuth:s.auth.isAuth}),l=s=>{class t extends i.Component{render(){return this.props.isAuth?(0,a.jsx)(s,{...this.props}):(0,a.jsx)(r.C5,{to:"/login"})}}return(0,o.Ng)(n)(t)}}}]);
//# sourceMappingURL=944.26de4dc3.chunk.js.map